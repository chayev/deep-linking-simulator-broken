---
id: byxk7
name: Initial attempt
file_version: 1.0.2
app_version: 0.7.0-1
file_blobs:
  src/components/OneLinkForm.jsx: 96a070938c45ecb733073030501e04707e010c82
---

In the function `generateURL` there are several things that are done.  
Testing 1

2

3

<br/>

`ğŸ“„ src/components/OneLinkForm.jsx`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ğŸ“„ src/components/OneLinkForm.jsx
```javascript
â¬œ 72         generateShortURL()
â¬œ 73       }
â¬œ 74     
ğŸŸ© 75       const generateURL = async () => {
ğŸŸ© 76         let url = "https://onelink-sim.onelink.me/coiD"
ğŸŸ© 77         let pid = "QR_code"
ğŸŸ© 78     
ğŸŸ© 79         if (!deepLinkState) {
ğŸŸ© 80           url = "https://onelink-sim.onelink.me/P3Ik"
ğŸŸ© 81           pid = "QR_code_broken"
ğŸŸ© 82         }
ğŸŸ© 83     
ğŸŸ© 84         const params = {
ğŸŸ© 85           deep_link_value: selectedPage || undefined,
ğŸŸ© 86           deep_link_sub1: fruitAmount?.value || undefined,
ğŸŸ© 87           af_ios_url:
ğŸŸ© 88             iOSRedirect.label === "Web Page" ? iOSRedirect.value : undefined,
ğŸŸ© 89           af_android_url:
ğŸŸ© 90             androidRedirect.label === "Web Page"
ğŸŸ© 91               ? androidRedirect.value
ğŸŸ© 92               : undefined,
ğŸŸ© 93           af_web_dp: webRedirect.value || undefined,
ğŸŸ© 94         }
ğŸŸ© 95     
ğŸŸ© 96         const query = querystring.stringify(params)
ğŸŸ© 97         const finalURL = `${url}?pid=${pid}&${query}`
ğŸŸ© 98     
ğŸŸ© 99         await setOneLinkURL(finalURL)
ğŸŸ© 100        const isMobile = window.innerWidth < 768
ğŸŸ© 101    
ğŸŸ© 102        if (isMobile) {
ğŸŸ© 103          qrCodeRef.current?.scrollIntoView({ behavior: "smooth" })
ğŸŸ© 104        }
ğŸŸ© 105    
ğŸŸ© 106        gaTag.event({
ğŸŸ© 107          category: 'User',
ğŸŸ© 108          action: 'Link Generated',
ğŸŸ© 109          label: selectedPage,
ğŸŸ© 110          value: parseInt(fruitAmount.value)
ğŸŸ© 111        });
ğŸŸ© 112      }
â¬œ 113    
â¬œ 114      const generateShortURL = async () => {    
â¬œ 115        const options = {
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBZGVlcC1saW5raW5nLXNpbXVsYXRvci1kZXYlM0ElM0FjaGF5ZXY=/docs/byxk7).